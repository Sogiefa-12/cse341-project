<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacts App</title>
</head>
<body>
    <div id="contacts-app"></div>

  <script>
    // Fetch all contacts
    function getContacts() {
      fetch('/contacts')
        .then((response) => {
          if (!response.ok) {
            throw new Error('Network error');
          }
          return response.json();
        })
        .then((contacts) => {
          displayContacts(contacts);
        })
        .catch((error) => {
          console.error('Error fetching contacts:', error);
        });
    }

    // Display contacts on the page
    function displayContacts(contacts) {
      const contactsContainer = document.getElementById('contacts-app');

      // Clear existing contacts
      contactsContainer.innerHTML = '';

      // Display contact information
      contacts.forEach((contact) => {
        const contactDiv = document.createElement('div');
        contactDiv.innerHTML = `<h3>${contact.firstName} ${contact.lastName}</h3>
          <p>Email: ${contact.email}</p>
          <p>Favorite Color: ${contact.favoriteColor}</p>
          <p>Birthday: ${contact.birthday}</p>`;
        contactsContainer.appendChild(contactDiv);
      });
    }

    // Fetch and display contacts on page load
    window.addEventListener('DOMContentLoaded', () => {
      getContacts();
    });
  </script>
    
</body>
</html>
